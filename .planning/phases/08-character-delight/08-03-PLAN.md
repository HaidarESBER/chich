---
phase: 08-character-delight
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/product/AddToCartButton.tsx
  - src/components/order/OrderConfirmation.tsx
  - src/components/checkout/CheckoutForm.tsx
  - src/components/layout/Footer.tsx
  - package.json
autonomous: false
---

<objective>
Add brand personality through celebratory success states, playful micro-interactions, and creative loading feedback.

Purpose: Transform functional interactions into delightful moments that reinforce premium brand character and create emotional connection.
Output: Polished micro-interactions that add character without compromising minimalist aesthetic.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/product/AddToCartButton.tsx
@src/components/order/OrderConfirmation.tsx
@src/components/checkout/CheckoutForm.tsx
@src/components/layout/Footer.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add celebratory animation to AddToCartButton success state</name>
  <files>src/components/product/AddToCartButton.tsx</files>
  <action>
Enhance add-to-cart success feedback with delightful animation:

**Success animation sequence:**
- Button scales with spring effect: 1 → 1.05 → 1 (0.4s, spring damping: 15)
- Success checkmark icon fades in next to text (SVG checkmark, 20px, green)
- Checkmark slides up slightly: y: 5 → 0 with opacity 0 → 1
- Button text changes: "Ajouter au panier" → "Ajouté au panier !"
- Text color shifts to success green (#16A34A) during success state
- Background color subtly pulses to light green tint (#F0FDF4)

**Return to normal:**
- After 2 seconds, crossfade back to original state
- Text, colors, icon all transition smoothly (0.3s ease)

**Implementation:**
- Use Framer Motion for all animations
- Spring animation config: { type: "spring", stiffness: 400, damping: 15 }
- AnimatePresence for checkmark icon entrance/exit
- Keep premium feel - celebration should be satisfying but not garish

**Accessibility:**
- Announce "Produit ajouté au panier" with aria-live="polite"
- Ensure color is not only indicator (icon confirms visually)
  </action>
  <verify>npm run build succeeds, add item to cart and verify button pulses with spring, checkmark appears smoothly</verify>
  <done>Button celebrates add-to-cart with spring pulse, checkmark fades in, all transitions smooth and premium</done>
</task>

<task type="auto">
  <name>Task 2: Add confetti celebration to order confirmation page</name>
  <files>src/components/order/OrderConfirmation.tsx, package.json</files>
  <action>
Install canvas-confetti: npm install canvas-confetti @types/canvas-confetti

Create tasteful confetti celebration on order confirmation:

**Confetti configuration:**
- Trigger on component mount (useEffect, empty deps)
- Fire from center top of viewport
- Brand colors only: charcoal (#2C2C2C) and blush (#D4A5A5) particles
- Particle count: 60 (celebratory but not overwhelming)
- Angle: 90 (straight down)
- Spread: 60 (wide but controlled)
- Gravity: 0.8 (graceful fall)
- Decay: 0.91 (linger slightly)
- Duration: Single burst (not repeated)

**Synchronized animations:**
- Success checkmark icon animates in sync with confetti
- Scale from 0.8 → 1 with spring (same timing as confetti burst)
- Icon background circle scales: 0 → 1 with slight delay (0.1s)

**Premium considerations:**
- Single burst only (avoid continuous/repeated - feels cheap)
- Brand colors maintain visual identity
- Confetti falls off screen (no cleanup issues)
- Works on mobile and desktop

**Code structure:**
- Dynamic import canvas-confetti (reduce bundle size)
- Error handling if confetti fails to load (fail gracefully)
- TypeScript types for confetti config
  </action>
  <verify>npm run build succeeds, navigate to order confirmation and verify single confetti burst with brand colors</verify>
  <done>Confetti bursts once with charcoal/blush colors, checkmark animates in sync, effect feels premium and celebratory</done>
</task>

<task type="auto">
  <name>Task 3: Add creative loading state to checkout form submission</name>
  <files>src/components/checkout/CheckoutForm.tsx</files>
  <action>
Replace basic loading state with creative branded animation:

**Loading indicator:**
- Custom cloud/smoke icon (matches "Nuage" brand theme)
- SVG cloud shape that rotates continuously
- Rotation: 360deg, 1.5s duration, infinite, linear easing
- Icon positioned left of text (20px size, primary color)

**Loading text:**
- "Traitement en cours" with animated ellipsis
- Three dots that pulse in sequence (opacity animation)
- Stagger: 0.2s between each dot
- Each dot: opacity 0.3 → 1 → 0.3 in 1.2s loop
- Use Framer Motion animate for smooth pulsing

**Layout stability:**
- Button maintains same size during loading (no shift)
- Loading content replaces "Commander" text in same space
- Disabled state prevents double-submission
- Pointer cursor changes to wait cursor

**Error state:**
- If submitError exists, show error message below button
- Animate entrance: slide down from y: -10 → 0, opacity 0 → 1 (0.3s)
- Red accent background (#FEE2E2) with red text (#DC2626)
- Error icon (exclamation triangle) left of message
- Dismissible with X button (fades out smoothly)

**Implementation:**
- Use Framer Motion for all animations
- Cloud SVG inline (avoid extra HTTP request)
- AnimatePresence for error message entrance/exit
  </action>
  <verify>npm run build succeeds, submit checkout and verify rotating cloud with pulsing ellipsis, error slides in if validation fails</verify>
  <done>Loading shows rotating cloud icon with animated dots, error messages slide in smoothly, no layout shifts</done>
</task>

<task type="auto">
  <name>Task 4: Add subtle hover micro-interactions to Footer links</name>
  <files>src/components/layout/Footer.tsx</files>
  <action>
Enhance footer with premium micro-interactions:

**Link hover effects:**
- Wrap navigation links with Framer Motion
- On hover: brightness increase (filter: brightness(1.1))
- Subtle translate up: y: -1px (lift effect)
- Transition: 0.2s with easeOut
- Underline slides in from left: width 0% → 100% (0.3s)

**Brand name hover:**
- "Nuage" heading scales slightly on hover: 1 → 1.02
- Smooth spring transition
- Adds subtle interactivity to brand presence

**Footer entrance animation:**
- Entire footer fades in on scroll into viewport
- Use Framer Motion viewport intersection: { once: true, margin: "-50px" }
- Fade up: opacity 0 → 1, y: 20 → 0
- Duration: 0.6s
- Consistent with Phase 5 scroll animations

**Column stagger:**
- Three footer columns stagger entrance (0.1s delay between each)
- Left column → center → right
- Creates elegant cascading reveal

**Implementation:**
- Use motion.a for link wrappers
- motion.div for footer container with viewport trigger
- Motion values for smooth hover states
- Keep all effects extremely subtle (premium, not flashy)
  </action>
  <verify>npm run build succeeds, scroll to footer and verify fade-in, hover links and verify brightness/lift effects</verify>
  <done>Footer fades in with stagger, links have subtle hover lift/brighten, brand scales on hover, all effects premium</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Character and delight enhancements: add-to-cart celebration, order confetti, loading states, footer polish</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. **Test Add-to-Cart celebration:**
       - Visit any product page
       - Click "Ajouter au panier"
       - Verify button pulses with spring animation
       - Confirm checkmark appears and slides up
       - Check text changes to "Ajouté au panier !" with green color
       - Wait 2s and confirm smooth return to normal state
    3. **Test Order confirmation confetti:**
       - Complete full checkout flow (add item, go to cart, checkout, submit)
       - On confirmation page, verify confetti bursts once
       - Confirm confetti uses brand colors (charcoal/blush)
       - Check checkmark icon animates in sync with burst
       - Ensure confetti doesn't repeat (single burst only)
    4. **Test Checkout loading state:**
       - Go to checkout with items in cart
       - Submit order and immediately watch button
       - Verify rotating cloud icon appears
       - Confirm "Traitement en cours" with pulsing dots
       - Check button doesn't shift size (layout stable)
       - If validation error: verify error message slides down smoothly
    5. **Test Footer micro-interactions:**
       - Scroll to footer, verify fade-in animation
       - Hover over navigation links, check brightness increase and lift
       - Hover over "Nuage" brand name, verify subtle scale
       - Check column stagger effect (left → center → right)
    6. **Overall quality check:**
       - All animations feel premium (not cheap or garish)
       - Celebrations are satisfying but not disruptive
       - Loading feedback is creative and on-brand
       - Footer interactions polished and subtle
       - No performance issues or animation jank
       - Mobile: All effects work on touch devices
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe specific issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds with no errors
- [ ] canvas-confetti installed and imported correctly
- [ ] Add-to-cart button celebration smooth and satisfying
- [ ] Order confirmation confetti fires once with brand colors
- [ ] Checkout loading state shows rotating cloud and pulsing dots
- [ ] Error messages slide in smoothly
- [ ] Footer links have subtle hover effects
- [ ] Footer fades in on scroll with column stagger
- [ ] All animations maintain premium aesthetic
- [ ] No layout shifts or jank
- [ ] Mobile-friendly (touch events work)
</verification>

<success_criteria>

- All tasks completed
- Character and delight added throughout key interactions
- Success states feel celebratory but sophisticated
- Loading states creative and on-brand ("Nuage" cloud theme)
- Micro-interactions polished and subtle
- Premium aesthetic maintained (not garish)
- User tested and approved all animations
- No performance regressions
  </success_criteria>

<output>
After completion, create `.planning/phases/08-character-delight/08-03-SUMMARY.md`
</output>
